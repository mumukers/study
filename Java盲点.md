# 方法重载与方法重写

---



## 方法重写

### 概念:

​			重写是**子类对父类**的允许访问的方法的实现过程进行重新编写, 返回值和形参都不能改变。
​			即外壳不变，核心重写！

### 规则：

​			1.重写的方法的访问权限不能比父类中被重写的方法的访问权限低，也就是private的方法不能被重写
​			2.参数列表，返回值，方法名必须完全相同
​			3.声明为**final**的方法不能被重写。声明为**static**的方法不能被重写，但是能再次声明
​			4.重写的方法能够抛出任何非强制性异常，但不能抛出**新的强制性异常**
​			5.对于不能继承的方法，就不能重写该方法

### 运行时：

​			先找到两个类中都有的方法，然后执行时看子类的具体实现

## 方法重载

### 概念：

​			重载是在一个类里面，方法名相同，参数不同，返回值可以相同也可以不同

### 规则：

​			1.被重载的方法可以改变返回类型；
​			2.被重载的方法可以改变访问修饰符；
​			3.被重载的方法可以声明新的或更广的检查异常；
​			4.方法能够在同一个类中或者在一个子类中被重载。
​			5.无法以返回值类型作为重载函数的区分标准。



# 向上转型和向下转型

---

## 向上转型

### 概念：

​			父类引用指向子类对象

### 特性：

​			向上转型就是把子类对象直接赋给父类引用，不用强制转换。使用向上转型可以**调用父类类型中的所有成			员，不能调用子类类型中特有成员，最终运行效果看子类的具体实现**。



## 向下转型

### 概念：

​			子类对象指向父类引用

### 注意：

​			如果**父类引用对象指向的是子类对象**，那么在向下转型的过程中是安全的，也就是编译是不会出错误。
​			但是如果**父类引用对象是父类本身**，那么在向下转型的过程中是不安全的，编译不会出错，但是**运行时会出现我们			开始提到的 Java 强制类型转换异常**，一般使用 **instanceof** 运算符（**比较运行时类型，而不是静态类型**）来避免			出此类错误。



# 动态分派和静态分派

---

## 静态分派

### 特性：

​			静态分派只会涉及重载，而重载是在编译期间确定的，那么静态分派自然是一个静态的过程

​			静态分派的最直接的解释是**在重载的时候是通过参数的静态类型而不是实际类型作为判断依据的**。

​			原因在于**静态类型的变化仅仅在使用时发生，变量本省的类型不会发生变化**。

### 理解:

​			由于只涉及重载，当一个方法需要传递参数时，只关注参数本身的静态类型，而不是它所指向的实际类型

### 示例：

​			B extend A，当一个方法的参数为B类的对象时，即使将B类进行向上转型，使A类引用指向B类对象，也不			能将该引用传递给该方法当参数，理解为只看静态类型。不过参数为A类型的对象时，可以将B类型的对象			当参数传递。

## 动态分派

一个最直接的例子就是方法重写



# Object中的重要方法

## == 和 equals

---

### ==

#### 判断对象类型：

既可以是基本类型，也可以是引用类型

基本类型：判断值是否相等

引用类型：判断地址是否相同，即判断指向对象是否相同

#### 注意：当两个对象类型都不相同时，产生编译错误，



### equals

#### 判断对象类型

只能是引用类型

默认判断地址是否相等，一般可以子类重写判断内容是否相等。比如Integer，String



## hashocde方法

---

### 结论：

​			1.提高具有哈希结构的容器的效率

​			2.两个引用，如果指向的是同一个对象，则哈希值肯定是一样的

​			3.两个引用，如果指向的是同一个对象，则哈希值肯定是一样的（在范围较大时，可能会产生碰撞）

​			4.哈希值主要是通过地址计算的，但不能完全等价

​			5.在集合中，如果有需要的话，也会重写

## finalize方法（新版Java已经弃用该方法）

---

### 对象回收：

​				当某个对象没有引用指向它时，系统就会认为该对象是一个垃圾，会使用垃圾回收机制来销毁该对象。
​				在销毁该对象前，会调用该方法。

### 调用时间：

​				当对象被回收时，系统自动调用finalize方法，子类可以重写该方法，进行资源释放操作

### 垃圾回收机制的调用：

​				由系统决定（系统有自己的GC算法），也可以通过System.gc（）来主动触发GC机制

### 注意：

​				在实际开发中，一般不会使用finalize方法，但是必须了解

